<html>
  <head>
	  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>i5ting_ztree_toc:api</title>
		<link href="toc/style/github-bf51422f4bb36427d391e4b75a1daa083c2d840e.css" media="all" rel="stylesheet" type="text/css"/>
		<link href="toc/style/github2-d731afd4f624c99a4b19ad69f3083cd6d02b81d5.css" media="all" rel="stylesheet" type="text/css"/>
		<link href="toc/css/zTreeStyle/zTreeStyle.css" media="all" rel="stylesheet" type="text/css"/>
	  <style>
		pre {
		    counter-reset: line-numbering;
		    border: solid 1px #d9d9d9;
		    border-radius: 0;
		    background: #fff;
		    padding: 0;
		    line-height: 23px;
		    margin-bottom: 30px;
		    white-space: pre;
		    overflow-x: auto;
		    word-break: inherit;
		    word-wrap: inherit;
		}

		pre a::before {
		  content: counter(line-numbering);
		  counter-increment: line-numbering;
		  padding-right: 1em; /* space after numbers */
		  width: 25px;
		  text-align: right;
		  opacity: 0.7;
		  display: inline-block;
		  color: #aaa;
		  background: #eee;
		  margin-right: 16px;
		  padding: 2px 10px;
		  font-size: 13px;
		  -webkit-touch-callout: none;
		  -webkit-user-select: none;
		  -khtml-user-select: none;
		  -moz-user-select: none;
		  -ms-user-select: none;
		  user-select: none;
		}

		pre a:first-of-type::before {
		  padding-top: 10px;
		}

		pre a:last-of-type::before {
		  padding-bottom: 10px;
		}

		pre a:only-of-type::before {
		  padding: 10px;
		}

		.highlight { background-color: #ffffcc } /* RIGHT */
		</style>
  </head>
  <body>
	  <div>
				<div style='width:25%;'>
						<ul id="tree" class="ztree" style='width:100%'>

						</ul>
				</div>
        <div id='readme' style='width:70%;margin-left:20%;'>
          	<article class='markdown-body'>
            	<h1 id="-">接口文档</h1>
<hr>
<h2 id="-">说明</h2>
<h3 id="-rest-">接口按照 REST 风格组织</h3>
<ul>
<li>GET /api/resources 获取数据列表</li>
<li>GET /api/resources/:id 获取单条数据</li>
<li>POST /api/resources 新增一条数据</li>
<li>PUT /api/resources 编辑一条数据</li>
<li>DELETE /api/resources/:id 删除一条数据</li>
</ul>
<p>如果没有特别说明， POST、PUT 请求的 Content-Type 为 application/json. 
文件上传接口，Content-Type 为 multipart/form-data</p>
<h3 id="-">返回数据格式</h3>
<p>所有接口的返回数据均为 application/json</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;hello&quot;
    &quot;data&quot;: {
        ...
    }
}
</code></pre>
<ul>
<li><strong>status</strong>: 状态码，0为正常，其他为错误，错误时message字段不为空</li>
<li><strong>message</strong>: 返回消息</li>
<li><strong>data</strong>: 数据字段，根据接口的不同可能为 Array 或 Object</li>
</ul>
<p><strong>接口说明中输出字段将只列出 data 字段的内容</strong></p>
<h3 id="-">接口权限</h3>
<ol>
<li>/open/** 接口为前台接口，不需要鉴权</li>
<li>/admin/** 接口为后台接口，需要在Authorization头中带AccessToken才能访问</li>
<li>/admin/auth/** 为登陆、刷新接口，不需要带AccessToken头部信息</li>
</ol>
<p>鉴权访问头部信息示例:</p>
<pre><code class="lang-json">POST /admin/articles HTTP/1.1
Host: 127.0.0.1:8384
Authorization: Bearer eyJraWQiOiJkYWN6ZWx1aW1reGZ4Y3h3IiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJBVCIsInN1YiI6ImFkbWluIiwic2NwIjpbImFkbWluIl0sInVpZCI6MSwibmFtZSI6IueuoeeQhuWRmCIsImlzQWRtaW4iOjEsImV4cCI6MTYxMTI0MjUzMywianRpIjoicmJjY2VqdWE0a3RuaHRzbCJ9.LBKHR18jOGJgk2tqAWyvJrybWoaL-cNxDp8ewwfoxIg
Content-Type: application/json
</code></pre>
<hr>
<h2 id="-">文章接口(前台)</h2>
<h3 id="-">获取文章列表</h3>
<p><strong>[GET] /open/articles</strong></p>
<p>根据过滤条件搜索文章，返回指定数量的文章</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>q</strong> 搜索关键字，后端会用 q 去匹配文章标题、摘要、正文、标签等内容，可以为空</li>
<li><strong>tags</strong> 搜索标签ID，可以为空，多个标签ID时用半角逗号(,)连接</li>
<li><strong>prop</strong> 搜索属性字段，可以为空，这个参数传入的是属性值，不是属性ID</li>
<li><strong>cid</strong> 搜索文章类别，可以为空，必须为数字类型(即文章类别ID)</li>
<li><strong>page</strong> 请求的是那一页的数据，最好不为空，从1开始，默认值1.</li>
<li><strong>size</strong> 请求的文章数量，最好不为空，默认值10.</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>列表字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 文章标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>coverPicturePath</strong> 封面图路径(相对路径)</li>
<li><strong>createTime</strong> 发布时间</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {
    &quot;pagination&quot;: {         //分页数据
      &quot;totalElements&quot;: 1,   //搜索条件匹配到的总数
      &quot;totalPages&quot;: 1,      //总页数
      &quot;numberOfElements&quot;: 1 //本次返回的数量
    },
    &quot;elements&quot;: [           //文章列表 (字段见上面的说明)
      {
        &quot;id&quot;: 1,            
        &quot;title&quot;: &quot;霸波尔奔&quot;,
        &quot;publisher&quot;: &quot;奔波儿灞&quot;,
        &quot;coverPicturePath&quot;: &quot;/upload/20210121/kdoso12lducj.jpg&quot;,
        &quot;createTime&quot;: &quot;2021-01-21 00:47&quot;
      }
    ]
  }
}
</code></pre>
<h3 id="-">获取文章详情</h3>
<p><strong>[GET] /open/articles/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>_无_</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 文章标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>coverPicturePath</strong> 封面图路径(相对路径)</li>
<li><strong>createdBy</strong> 创建人</li>
<li><strong>createTime</strong> 发布时间</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
<li><strong>prop</strong> 文章属性</li>
<li><strong>tags</strong> 文章标签，Array</li>
<li><strong>category</strong> 文章分类</li>
<li><strong>articleAbstract</strong> 摘要</li>
<li><strong>content</strong> 文章内容</li>
<li><strong>recommendations</strong> 推荐文章</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {
    &quot;id&quot;: 1,
    &quot;title&quot;: &quot;文章标题&quot;,
    &quot;publisher&quot;: &quot;发行人&quot;,
    &quot;status&quot;: 1,
    &quot;prop&quot;: {
        &quot;id&quot;: 202,
        &quot;name&quot;: &quot;好文章&quot;
    },
    &quot;tags&quot;: [
      {
        &quot;id&quot;: 101,
        &quot;name&quot;: &quot;火箭&quot;
      }
    ],
    &quot;category&quot;: {
      &quot;id&quot;: 19,
      &quot;name&quot;: &quot;很火的文章&quot;
    },
    &quot;coverPicturePath&quot;: &quot;/upload/20210121/kdoso12lducj.jpg&quot;,
    &quot;articleAbstract&quot;: &quot;文章摘要&quot;,
    &quot;content&quot;: &quot;文章内容&quot;,
    &quot;createTime&quot;: &quot;2021-01-21 09:12&quot;,
    &quot;createdBy&quot;: &quot;王大哥&quot;,
    &quot;recommendations&quot;: [
      {
        &quot;id&quot;: 1,
        &quot;title&quot;: &quot;霸波尔奔&quot;,
        &quot;publisher&quot;: &quot;奔波儿灞&quot;,
        &quot;coverPicturePath&quot;: &quot;/upload/20210121/kdoso12lducj.jpg&quot;,
        &quot;createTime&quot;: &quot;2021-01-21 09:12&quot;
      }
    ]
  }
}
</code></pre>
<hr>
<h2 id="-">轮播图接口(前台)</h2>
<h3 id="-">获取指定类型的轮播图</h3>
<p><strong>[GET] /open/banners</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>type</strong>: 轮播图类型：0-PC端轮播图；1-手机端轮播图；</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类型：0-PC端；1-手机端；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图相对路径（页面显示需要拼接上上传文件夹访问URL）</li>
<li><strong>status</strong> 状态：0-下架；1-上架</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 63,
      &quot;type&quot;: 0,
      &quot;title&quot;: &quot;text - 497717&quot;,
      &quot;url&quot;: &quot;http://localhost:10111/some/url&quot;,
      &quot;path&quot;: &quot;20210121/kdoDldosf.png&quot;,
      &quot;status&quot;: 1
    }
  ]
}
</code></pre>
<hr>
<h2 id="-">类别接口(前台)</h2>
<h3 id="-">获取所有分类</h3>
<p><strong>[GET] /open/categories</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
<li><strong>children</strong> 子类别列表，为空表示没有子类别</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0,
      &quot;children&quot;: [
        {
          &quot;id&quot;: 2,
          &quot;name&quot;: &quot;技术试验&quot;,
          &quot;level&quot;: 2,
          &quot;parentId&quot;: 1,
          &quot;children&quot;: [
            {
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;高端科研技术&quot;,
              &quot;level&quot;: 3,
              &quot;parentId&quot;: 2,
              &quot;children&quot;: null
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<h3 id="-">获取指定分类</h3>
<p><strong>[GET] /open/categories/:id</strong></p>
<p>获取指定ID的分类数据，<strong>与上一个接口的不同在于 data 字段为 Object， 不是 Array</strong>.</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
<li><strong>children</strong> 子类别列表，为空表示没有子类别</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {  // 注意：这个接口返回的 data 字段为 Object
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0,
      &quot;children&quot;: [
        {
          &quot;id&quot;: 2,
          &quot;name&quot;: &quot;技术试验&quot;,
          &quot;level&quot;: 2,
          &quot;parentId&quot;: 1,
          &quot;children&quot;: [
            {
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;高端科研技术&quot;,
              &quot;level&quot;: 3,
              &quot;parentId&quot;: 2,
              &quot;children&quot;: null
            }
          ]
        }
      ]
    }
}
</code></pre>
<hr>
<hr>
<h2 id="-token">登录及TOKEN</h2>
<p><strong>登录及Token刷新接口比较特殊，不需要带Authorization头部，可以直接访问</strong></p>
<p>除这2个接口之外的其他后端接口都需要在 http 请求头部带上AccessToken，见 <em>一般说明</em> 部分</p>
<h3 id="-">登录</h3>
<p><strong>[POST] /admin/auth/login</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>userid</strong> 登录账号</li>
<li><strong>password</strong> 密码</li>
</ul>
<p>请求示例：</p>
<pre><code class="lang-json">{
    &quot;userid&quot;: &quot;admin&quot;,
    &quot;password&quot;: &quot;1111111&quot;
}
</code></pre>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>accessToken</strong> AccessToken</li>
<li><strong>refreshToken</strong> RefreshToken</li>
<li><strong>uid</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>expiresIn</strong> AccessToken 过期时间（秒）</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;accessToken&quot;: &quot;eyJraWQiOiJkYmdxeDVjZ3JrdG53cXZzIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJBVCIsInN1YiI6ImFkbWluIiwic2NwIjpbImFkbWluIl0sInVpZCI6MSwibmFtZSI6IueuoeeQhuWRmCIsImlzQWRtaW4iOjEsImV4cCI6MTYxMTIyMDc2MywianRpIjoiYmRkeXg3Y2dyaXRud2VnZiJ9.TGu_QMYu-G8X7EFudA-bt7fHIXMETpcSaQZ85EPFH4c&quot;,
        &quot;refreshToken&quot;: &quot;eyJraWQiOiJyZGF6cDdjZ3FpdG5oa2dpIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJSVCIsInN1YiI6ImFkbWluIiwidWlkIjoxLCJleHAiOjE2MTEyMjM3NjR9.xy60ru2iak_aVghyqocoYoYhrXUxFz7Cq3U9H068L1M&quot;,
        &quot;uid&quot;: 1,
        &quot;userid&quot;: &quot;admin&quot;,
        &quot;name&quot;: &quot;管理员&quot;,
        &quot;expiresIn&quot;: 600
    }
}
</code></pre>
<h3 id="-token">刷新TOKEN</h3>
<p>RefreshToken 的有效期比 AccessToken 长，当 AccessToken 过期时可以用这个接口换取新的 AccessToken 及 RefreshToken，好处是不需要用户参与，也可以直接引导用户重新登录。 
重新登录后旧的 AccessToken 只要在有效期内依然可以使用。</p>
<p><strong>[POST] /admin/auth/refresh</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>refreshToken</strong> 之前登录时返回的 refreshToken</li>
</ul>
<p>请求示例：</p>
<pre><code class="lang-json">{
    &quot;refreshToken&quot;: &quot;eyJraWQiOiJyZGF6cDdjZ3FpdG5oa2dpIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJSVCIsInN1YiI6ImFkbWluIiwidWlkIjoxLCJleHAiOjE2MTEyMjM3NjR9.xy60ru2iak_aVghyqocoYoYhrXUxFz7Cq3U9H068L1M&quot;
}
</code></pre>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>accessToken</strong> AccessToken</li>
<li><strong>refreshToken</strong> RefreshToken</li>
<li><strong>uid</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>expiresIn</strong> AccessToken 过期时间（秒）</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;accessToken&quot;: &quot;eyJraWQiOiJkYmdxeDVjZ3JrdG53cXZzIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJBVCIsInN1YiI6ImFkbWluIiwic2NwIjpbImFkbWluIl0sInVpZCI6MSwibmFtZSI6IueuoeeQhuWRmCIsImlzQWRtaW4iOjEsImV4cCI6MTYxMTIyMDc2MywianRpIjoiYmRkeXg3Y2dyaXRud2VnZiJ9.TGu_QMYu-G8X7EFudA-bt7fHIXMETpcSaQZ85EPFH4c&quot;,
        &quot;refreshToken&quot;: &quot;eyJraWQiOiJyZGF6cDdjZ3FpdG5oa2dpIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJhdWQiOiJSVCIsInN1YiI6ImFkbWluIiwidWlkIjoxLCJleHAiOjE2MTEyMjM3NjR9.xy60ru2iak_aVghyqocoYoYhrXUxFz7Cq3U9H068L1M&quot;,
        &quot;uid&quot;: 1,
        &quot;userid&quot;: &quot;admin&quot;,
        &quot;name&quot;: &quot;管理员&quot;,
        &quot;expiresIn&quot;: 600
    }
}
</code></pre>
<hr>
<h2 id="-">用户接口</h2>
<h3 id="-">获取用户列表</h3>
<p><strong>[GET] /admin/users</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 用户名称过滤，可以为空</li>
<li><strong>page</strong> 请求页码，最好不为空，默认为1</li>
<li><strong>size</strong> 请求的数量，最好不为空，默认为10</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>status</strong> 状态：0-禁用；1-启用；</li>
<li><strong>isAdmin</strong> 是否超级管理员：0-否；1-是；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;pagination&quot;: {             // 分页数据
          &quot;totalElements&quot;: 15,      // 匹配到的总数
          &quot;totalPages&quot;: 2,          // 匹配到的数据总页数
          &quot;numberOfElements&quot;: 10    // 当前返回的数据数量
        },
        &quot;elements&quot;: [
          {
            &quot;id&quot;: 1,
            &quot;userid&quot;: &quot;admin&quot;,
            &quot;name&quot;: &quot;管理员&quot;,
            &quot;status&quot;: 1,
            &quot;isAdmin&quot;: 1
          }
        ]
    }
}
</code></pre>
<h3 id="-">新增用户</h3>
<p><strong>[POST] /admin/users</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>userid</strong> 登录账号，必填，全局唯一， 长度 3-30</li>
<li><strong>name</strong> 用户名称，必填</li>
<li><strong>password</strong> 密码，必填，长度 3-30</li>
</ul>
<p>请求示例：</p>
<pre><code class="lang-json">{
  &quot;userid&quot;: &quot;brave heart&quot;,
  &quot;name&quot;: &quot;勇敢的心&quot;,
  &quot;password&quot;: &quot;kDos.21@fff&quot;
}
</code></pre>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>status</strong> 状态：0-禁用；1-启用；</li>
<li><strong>isAdmin</strong> 是否超级管理员：0-否；1-是；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;userid&quot;: &quot;brave heart&quot;,
        &quot;name&quot;: &quot;勇敢的心&quot;,
        &quot;status&quot;: 1,
        &quot;isAdmin&quot;: 0
    }
}
</code></pre>
<h3 id="-">获取单个用户</h3>
<p><strong>[GET] /admin/users/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>status</strong> 状态：0-禁用；1-启用；</li>
<li><strong>isAdmin</strong> 是否超级管理员：0-否；1-是；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;userid&quot;: &quot;brave heart&quot;,
        &quot;name&quot;: &quot;勇敢的心&quot;,
        &quot;status&quot;: 1,
        &quot;isAdmin&quot;: 0
    }
}
</code></pre>
<h3 id="-">修改用户数据</h3>
<p><strong>[PUT] /admin/users/:id</strong></p>
<p>注意: 后台接口中，只有这个接口是<strong>部分更新</strong>，即传入的字段如果为空表示不修改。</p>
<p>其他的编辑类接口是全量更新，即如果说明的字段没有传入，会将原有数据库数据置空</p>
<p>userid 如果有修改，会导致对应账号已颁发的AccessToken失效，需要重新登录</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>userid</strong> 登录账号，可以为空，为空时表示不修改；不为空时不能与其他用户登录账号重复；</li>
<li><strong>name</strong> 用户名称，可以为空，为空时表示不修改</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>status</strong> 状态：0-禁用；1-启用；</li>
<li><strong>isAdmin</strong> 是否超级管理员：0-否；1-是；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;userid&quot;: &quot;brave heart&quot;,
        &quot;name&quot;: &quot;勇敢的心&quot;,
        &quot;status&quot;: 1,
        &quot;isAdmin&quot;: 0
    }
}
</code></pre>
<h3 id="-">修改密码</h3>
<p><strong>[PUT] /admin/users/:id/password</strong></p>
<p>路径中的ID为用户ID</p>
<p>修改密码时会对原始密码进行校验；
任何人（包括超级管理员）只能修改自己的密码；
密码修改后对应的 AccessToken 会失效，需要重新登录；</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>originalPassword</strong> 原始密码，不能为空，长度 3-30</li>
<li><strong>newPassword</strong> 新密码，不能为空，长度 3-30，且必须不同于原始密码</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 用户数字ID</li>
<li><strong>userid</strong> 用户登录账号</li>
<li><strong>name</strong> 用户名称</li>
<li><strong>status</strong> 状态：0-禁用；1-启用；</li>
<li><strong>isAdmin</strong> 是否超级管理员：0-否；1-是；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;userid&quot;: &quot;brave heart&quot;,
        &quot;name&quot;: &quot;勇敢的心&quot;,
        &quot;status&quot;: 1,
        &quot;isAdmin&quot;: 0
    }
}
</code></pre>
<h3 id="-">删除用户</h3>
<p><strong>[DELETE] /admin/users/:id</strong></p>
<p>删除指定的用户，只有超级管理员才可以删除用户，不能删除自己。</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;删除成功&quot;,
    &quot;data&quot;: {
    }
}
</code></pre>
<hr>
<h2 id="-">文章接口</h2>
<h3 id="-">获取文章列表</h3>
<p><strong>[GET] /admin/articles</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>title</strong> 标题过滤，可以为空</li>
<li><strong>tags</strong> 搜索标签ID，可以为空，多个标签ID时用半角逗号(,)连接</li>
<li><strong>status</strong> 状态过滤，可以为空，不为空时只能传0或1：0-未上架；1-已上架；</li>
<li><strong>cid</strong> 分类ID，可以为空，根据分类搜索文章</li>
<li><strong>page</strong> 请求页码，最好不为空，默认为1</li>
<li><strong>size</strong> 请求的数量，最好不为空，默认为10</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>status</strong> 文章状态：0-未上架；1-已上架；</li>
<li><strong>propName</strong> 文章属性</li>
<li><strong>tags</strong> 标签名称列表，Array</li>
<li><strong>categoryName</strong> 文章分类名称</li>
<li><strong>coverPicturePath</strong> 封面图路径（相对路径）</li>
<li><strong>createTime</strong> 创建时间</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;pagination&quot;: {             // 分页数据
          &quot;totalElements&quot;: 15,      // 匹配到的总数
          &quot;totalPages&quot;: 2,          // 匹配到的数据总页数
          &quot;numberOfElements&quot;: 10    // 当前返回的数据数量
        },
        &quot;elements&quot;: [
            {
              &quot;id&quot;: 612713,
              &quot;title&quot;: &quot;如何做好心脏置换手术&quot;,
              &quot;publisher&quot;: &quot;Jone Doe&quot;,
              &quot;status&quot;: 1,
              &quot;propName&quot;: &quot;最热&quot;,
              &quot;tags&quot;: [
                &quot;心脏手术&quot;,&quot;临床&quot;
              ],
              &quot;categoryName&quot;: &quot;基础科研技术&quot;,
              &quot;coverPicturePath&quot;: &quot;20210121/kdoefxldo01kdo.jpg&quot;,
              &quot;createTime&quot;: &quot;2021-01-21 18:21&quot;
            }
        ]
    }
}
</code></pre>
<h3 id="-">新增文章</h3>
<p><strong>[POST] /admin/articles</strong></p>
<p><strong>请求数据格式为 application/json</strong></p>
<p>其中，封面图文件在用户选择文件后调用文件上传接口，可以回显文件接口返回的完整路径，
在文章保存时 coverPicturePath 应为文件上传接口返回的相对路径 (relativePath) </p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>title</strong> 标题，必填</li>
<li><strong>publisher</strong> 发布人，必填</li>
<li><strong>propId</strong> 属性ID</li>
<li><strong>categoryId</strong> 分类ID，必填</li>
<li><strong>coverPicturePath</strong> 封面图路径</li>
<li><strong>articleAbstract</strong> 文章摘要，必填</li>
<li><strong>content</strong> 文章内容，必填</li>
<li><strong>tags</strong> 标签ID字符串，多个标签用逗号拼接</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>status</strong> 文章状态：0-未上架；1-已上架；</li>
<li><strong>propName</strong> 文章属性</li>
<li><strong>tags</strong> 标签名称列表，Array</li>
<li><strong>categoryName</strong> 文章分类名称</li>
<li><strong>coverPicturePath</strong> 封面图路径（相对路径）</li>
<li><strong>createTime</strong> 创建时间</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 612713,
      &quot;title&quot;: &quot;如何做好心脏置换手术&quot;,
      &quot;publisher&quot;: &quot;Jone Doe&quot;,
      &quot;status&quot;: 1,
      &quot;propName&quot;: &quot;最热&quot;,
      &quot;tags&quot;: [
        &quot;心脏手术&quot;,&quot;临床&quot;
      ],
      &quot;categoryName&quot;: &quot;基础科研技术&quot;,
      &quot;coverPicturePath&quot;: &quot;20210121/kdoefxldo01kdo.jpg&quot;,
      &quot;createTime&quot;: &quot;2021-01-21 18:21&quot;
    }
}
</code></pre>
<h3 id="-">编辑文章</h3>
<p><strong>[PUT] /admin/articles/:id</strong></p>
<p><strong>涉及到文件上传，请求数据格式为 application/json</strong></p>
<p>其中，封面图文件在用户选择文件后调用文件上传接口，可以回显文件接口返回的完整路径，
在文章保存时 coverPicturePath 应为文件上传接口返回的相对路径 (relativePath) ，
如果用户编辑过程中未改变封面图，上传编辑前的 coverPicturePath</p>
<p>注意：这个接口是全量更新，即说明的选填参数没有传入，会置空原有数据</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>title</strong> 标题，必填</li>
<li><strong>publisher</strong> 发布人，必填</li>
<li><strong>propId</strong> 属性ID</li>
<li><strong>categoryId</strong> 分类ID，必填</li>
<li><strong>coverPicturePath</strong> 封面图路径</li>
<li><strong>articleAbstract</strong> 文章摘要，必填</li>
<li><strong>content</strong> 文章内容，必填</li>
<li><strong>tags</strong> 标签ID字符串，多个标签用逗号拼接</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>status</strong> 文章状态：0-未上架；1-已上架；</li>
<li><strong>propName</strong> 文章属性</li>
<li><strong>tags</strong> 标签名称列表，Array</li>
<li><strong>categoryName</strong> 文章分类名称</li>
<li><strong>coverPicturePath</strong> 封面图路径（相对路径）</li>
<li><strong>createTime</strong> 创建时间</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 612713,
      &quot;title&quot;: &quot;如何做好心脏置换手术&quot;,
      &quot;publisher&quot;: &quot;Jone Doe&quot;,
      &quot;status&quot;: 1,
      &quot;propName&quot;: &quot;最热&quot;,
      &quot;tags&quot;: [
        &quot;心脏手术&quot;,&quot;临床&quot;
      ],
      &quot;categoryName&quot;: &quot;基础科研技术&quot;,
      &quot;coverPicturePath&quot;: &quot;20210121/kdoefxldo01kdo.jpg&quot;,
      &quot;createTime&quot;: &quot;2021-01-21 18:21&quot;
    }
}
</code></pre>
<h3 id="-">获取文章详情</h3>
<p>获取单个文章数据，可以用来编辑文章</p>
<p><strong>[GET] /admin/articles/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>status</strong> 文章状态：0-未上架；1-已上架；</li>
<li><strong>prop</strong> 文章属性 Object</li>
<li><strong>tags</strong> 标签列表，Array</li>
<li><strong>category</strong> 文章分类 Object</li>
<li><strong>coverPicturePath</strong> 封面图路径（相对路径）</li>
<li><strong>articleAbstract</strong> 文章摘要</li>
<li><strong>content</strong> 文章内容</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
          &quot;id&quot;: 1,
          &quot;title&quot;: &quot;text - 666083&quot;,
          &quot;publisher&quot;: &quot;text - 902785&quot;,
          &quot;status&quot;: 1,
          &quot;prop&quot;: {
            &quot;id&quot;: 533882,
            &quot;name&quot;: &quot;text - 873959&quot;
          },
          &quot;tags&quot;: [
            {
              &quot;id&quot;: 381376,
              &quot;name&quot;: &quot;text - 369419&quot;
            }
          ],
          &quot;category&quot;: {
            &quot;id&quot;: 403642,
            &quot;name&quot;: &quot;text - 544786&quot;
          },
          &quot;coverPicturePath&quot;: &quot;20210121/kdoefxldo01kdo.jpg&quot;,
          &quot;articleAbstract&quot;: &quot;text - 965779&quot;,
          &quot;content&quot;: &quot;text - 98473&quot;,
    }
}
</code></pre>
<h3 id="-">切换文章状态</h3>
<p>切换文章上架/下架状态</p>
<p><strong>[PUT] /admin/articles/:id/status/toggle</strong></p>
<p>切换状态，即原来是上架的变为下架，原来是下架的变为上架</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 文章ID</li>
<li><strong>title</strong> 标题</li>
<li><strong>publisher</strong> 发布人</li>
<li><strong>status</strong> 文章状态：0-未上架；1-已上架；</li>
<li><strong>propName</strong> 文章属性</li>
<li><strong>tags</strong> 标签名称列表，Array</li>
<li><strong>categoryName</strong> 文章分类名称</li>
<li><strong>coverPicturePath</strong> 封面图路径（相对路径）</li>
<li><strong>createTime</strong> 创建时间</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 612713,
      &quot;title&quot;: &quot;如何做好心脏置换手术&quot;,
      &quot;publisher&quot;: &quot;Jone Doe&quot;,
      &quot;status&quot;: 1,
      &quot;propName&quot;: &quot;最热&quot;,
      &quot;tags&quot;: [
        &quot;心脏手术&quot;,&quot;临床&quot;
      ],
      &quot;categoryName&quot;: &quot;基础科研技术&quot;,
      &quot;coverPicturePath&quot;: &quot;20210121/kdoefxldo01kdo.jpg&quot;,
      &quot;createTime&quot;: &quot;2021-01-21 18:21&quot;
    }
}
</code></pre>
<h3 id="-">删除文章</h3>
<p><strong>[DELETE] /admin/articles/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;删除成功&quot;
}
</code></pre>
<h3 id="-">批量删除文章</h3>
<p><strong>[POST] /admin/articles/delete</strong></p>
<p>待删除的 id 以 JSON Array 的格式放在 body 中.</p>
<p><strong>请求参数</strong>：</p>
<p>application/json</p>
<pre><code class="lang-json">[15,16,17,18]
</code></pre>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;批量删除成功, 4 / 4&quot;
}
</code></pre>
<hr>
<h2 id="-">轮播图接口</h2>
<h3 id="-">获取轮播图列表</h3>
<p><strong>[GET] /admin/banners</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>title</strong> 标题过滤，可以为空</li>
<li><strong>type</strong> 轮播图类别过滤，可以为空，类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>status</strong> 上下架状态过滤，可以为空：0-未上架；1-已上架；</li>
<li><strong>page</strong> 请求页码，最好不为空，默认为1</li>
<li><strong>size</strong> 请求的数量，最好不为空，默认为10</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图图片保存的相对路径</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;pagination&quot;: {             // 分页数据
          &quot;totalElements&quot;: 15,      // 匹配到的总数
          &quot;totalPages&quot;: 2,          // 匹配到的数据总页数
          &quot;numberOfElements&quot;: 10    // 当前返回的数据数量
        },
        &quot;elements&quot;: [
            {
              &quot;id&quot;: 1,
              &quot;type&quot;: 0,
              &quot;title&quot;: &quot;酷炫的轮播图&quot;,
              &quot;url&quot;: &quot;http://192.168.0.1/web/index.html&quot;,
              &quot;path&quot;: &quot;20210121/kdodl01flso.jpg&quot;,
              &quot;status&quot;: 1
            }
        ]
    }
}
</code></pre>
<h3 id="-">新增轮播图</h3>
<p><strong>[POST] /admin/banners</strong></p>
<p><strong>数据格式为 application/json</strong></p>
<p>用户选择图片文件时调用文件上传接口，保存时 path 为文件上传接口返回的相对路径</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；必填</li>
<li><strong>title</strong> 标题，必填</li>
<li><strong>path</strong> 轮播图图片路径</li>
<li><strong>url</strong> 轮播图链接</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图图片保存的相对路径</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
          &quot;id&quot;: 1,
          &quot;type&quot;: 0,
          &quot;title&quot;: &quot;酷炫的轮播图&quot;,
          &quot;url&quot;: &quot;http://192.168.0.1/web/index.html&quot;,
          &quot;path&quot;: &quot;20210121/kdodl01flso.jpg&quot;,
          &quot;status&quot;: 1
    }
}
</code></pre>
<h3 id="-">编辑轮播图</h3>
<p><strong>[PUT] /admin/banners/:id</strong></p>
<p><strong>数据格式为 application/json</strong></p>
<p>用户选择图片文件时调用文件上传接口，保存时 path 为文件上传接口返回的相对路径，
如果编辑过程中图片本身未改变，须上传原 path 值.</p>
<p>注意：这个接口是全量更新，即说明的选填参数没有传入，会置空原有数据</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；必填</li>
<li><strong>title</strong> 标题，必填</li>
<li><strong>path</strong> 轮播图图片保存路径</li>
<li><strong>url</strong> 轮播图链接</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图图片保存的相对路径</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
          &quot;id&quot;: 1,
          &quot;type&quot;: 0,
          &quot;title&quot;: &quot;酷炫的轮播图&quot;,
          &quot;url&quot;: &quot;http://192.168.0.1/web/index.html&quot;,
          &quot;path&quot;: &quot;20210121/kdodl01flso.jpg&quot;,
          &quot;status&quot;: 1
    }
}
</code></pre>
<h3 id="-">获取单个轮播图数据</h3>
<p><strong>[GET] /admin/banners/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图图片保存的相对路径</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
          &quot;id&quot;: 1,
          &quot;type&quot;: 0,
          &quot;title&quot;: &quot;酷炫的轮播图&quot;,
          &quot;url&quot;: &quot;http://192.168.0.1/web/index.html&quot;,
          &quot;path&quot;: &quot;20210121/kdodl01flso.jpg&quot;,
          &quot;status&quot;: 1
    }
}
</code></pre>
<h3 id="-">切换轮播图状态</h3>
<p><strong>[PUT] /admin/banners/:id/status/toggle</strong></p>
<p>切换状态，即原来是上架的变为下架，原来是下架的变为上架</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 轮播图ID</li>
<li><strong>type</strong> 类别：0-PC端轮播图；1-手机端轮播图；</li>
<li><strong>title</strong> 标题</li>
<li><strong>url</strong> 链接</li>
<li><strong>path</strong> 轮播图图片保存的相对路径</li>
<li><strong>status</strong> 状态：0-未上架；1-已上架；</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
          &quot;id&quot;: 1,
          &quot;type&quot;: 0,
          &quot;title&quot;: &quot;酷炫的轮播图&quot;,
          &quot;url&quot;: &quot;http://192.168.0.1/web/index.html&quot;,
          &quot;path&quot;: &quot;20210121/kdodl01flso.jpg&quot;,
          &quot;status&quot;: 1
    }
}
</code></pre>
<h3 id="-">删除轮播图</h3>
<p><strong>[DELETE] /admin/banners/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;删除成功&quot;
}
</code></pre>
<h3 id="-">批量删除轮播图</h3>
<p><strong>[POST] /admin/banners/delete</strong></p>
<p>待删除的 banner id 以 JSON Array 的格式放在 body 中.</p>
<p><strong>请求参数</strong>：</p>
<p>application/json</p>
<pre><code class="lang-json">[15,16,17,18]
</code></pre>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;批量删除成功, 4 / 4&quot;
}
</code></pre>
<hr>
<h2 id="-">文章分类接口</h2>
<h3 id="-">获取所有分类(嵌套结构)</h3>
<p>获取嵌套结构的分类列表，data 字段的每一条记录为一个一级分类（即导航栏分类）</p>
<p><strong>[GET] /admin/categories</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
<li><strong>articles</strong> 关联的文章数量（包含子分类）</li>
<li><strong>children</strong> 子类别列表，为空表示没有子类别</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;articles&quot;: 10,
      &quot;parentId&quot;: 0,
      &quot;children&quot;: [
        {
          &quot;id&quot;: 2,
          &quot;name&quot;: &quot;技术试验&quot;,
          &quot;level&quot;: 2,
          &quot;articles&quot;: 6,
          &quot;parentId&quot;: 1,
          &quot;children&quot;: [
            {
              &quot;id&quot;: 3,
              &quot;name&quot;: &quot;高端科研技术&quot;,
              &quot;level&quot;: 3,
              &quot;articles&quot;: 0,
              &quot;parentId&quot;: 2,
              &quot;children&quot;: null
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<h3 id="-">获取所有分类(扁平结构)</h3>
<p>获取扁平结构的分类列表</p>
<p><strong>[GET] /admin/categories/flat</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0
    },
    {
      &quot;id&quot;: 2,
      &quot;name&quot;: &quot;技术试验&quot;,
      &quot;level&quot;: 2,
      &quot;parentId&quot;: 1
    }
  ]
}
</code></pre>
<h3 id="-">获取指定分类</h3>
<p><strong>[GET] /admin/categories/:id</strong></p>
<p>获取指定ID的分类，<strong>与上一个接口的不同在于 data 字段为 Object， 不是 Array</strong>.</p>
<p>不包含子分类</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0
    }
}
</code></pre>
<h3 id="-">新增分类</h3>
<p><strong>[POST] /admin/categories</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>parentId</strong> 上一级分类的ID，0 表示一级分类</li>
<li><strong>name</strong> 分类名称，不能重复</li>
</ul>
<p>请求示例：</p>
<pre><code class="lang-json">{
  &quot;parentId&quot;: 0,
  &quot;name&quot;: &quot;助手&quot;
}
</code></pre>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0
    }
}
</code></pre>
<h3 id="-">编辑分类</h3>
<p><strong>[PUT] /admin/categories/:id</strong></p>
<p>只能修改分类名称</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 分类名称，修改后的名称不能与其他分类重复</li>
</ul>
<p>请求示例：</p>
<pre><code class="lang-json">{
  &quot;name&quot;: &quot;助手&quot;
}
</code></pre>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 分类ID</li>
<li><strong>name</strong> 分类名称</li>
<li><strong>level</strong> 分类层级，第一层为1， 最多3层；其中第一层即导航栏分类</li>
<li><strong>parentId</strong> 父类别ID</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;科研服务&quot;,
      &quot;level&quot;: 1,
      &quot;parentId&quot;: 0
    }
}
</code></pre>
<h3 id="-">删除分类</h3>
<p><strong>[DELETE] /admin/categories/:id</strong></p>
<p>指定分类及其子分类如果已关联文章，删除失败；</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;message&quot;: &quot;删除成功&quot;
}
</code></pre>
<hr>
<h2 id="-">属性接口</h2>
<h3 id="-">获取属性</h3>
<p><strong>[GET] /admin/props</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 属性ID</li>
<li><strong>name</strong> 属性名称</li>
</ul>
<pre><code class="lang-json">{
  &quot;status&quot;: 0,
  &quot;data&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;属性1&quot;
    },
    {
      &quot;id&quot;: 2,
      &quot;name&quot;: &quot;属性2&quot;
    }
  ]
}
</code></pre>
<h3 id="-">获取单个属性</h3>
<p><strong>[GET] /admin/props/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 属性ID</li>
<li><strong>name</strong> 属性名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;属性1&quot;
    }
}
</code></pre>
<h3 id="-">新增属性</h3>
<p><strong>[POST] /admin/props</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 属性名称，必填，不能重复</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 属性ID</li>
<li><strong>name</strong> 属性名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;属性1&quot;
    }
}
</code></pre>
<h3 id="-">修改属性名</h3>
<p><strong>[PUT] /admin/props/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 属性名称，必填，不能重复</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 属性ID</li>
<li><strong>name</strong> 属性名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;属性1&quot;
    }
}
</code></pre>
<h3 id="-">删除属性</h3>
<p><strong>[DELETE] /admin/props/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;删除成功&quot;
}
</code></pre>
<h3 id="-">批量删除属性</h3>
<p><strong>[POST] /admin/props/delete</strong></p>
<p>待删除的 id 以 JSON Array 的格式放在 body 中.</p>
<p><strong>请求参数</strong>：</p>
<p>application/json</p>
<pre><code class="lang-json">[15,16,17,18]
</code></pre>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;批量删除成功, 4 / 4&quot;
}
</code></pre>
<hr>
<h2 id="-">标签接口</h2>
<h3 id="-">获取标签列表</h3>
<p><strong>[GET] /admin/tags</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 标签名称过滤，可以为空，模糊查询</li>
<li><strong>page</strong> 请求的页码，默认为 1</li>
<li><strong>size</strong> 请求的数量，默认为 10</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 标签ID</li>
<li><strong>name</strong> 标签名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;pagination&quot;: {             // 分页数据
          &quot;totalElements&quot;: 2,      // 匹配到的总数
          &quot;totalPages&quot;: 1,          // 匹配到的数据总页数
          &quot;numberOfElements&quot;: 2    // 当前返回的数据数量
        },
        &quot;elements&quot;: [
            {
              &quot;id&quot;: 1,
              &quot;name&quot;: &quot;标签1&quot;
            },
            {
              &quot;id&quot;: 2,
              &quot;name&quot;: &quot;标签2&quot;
            }
        ]
    }
}
</code></pre>
<h3 id="-">获取单个标签</h3>
<p><strong>[GET] /admin/tags/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 标签ID</li>
<li><strong>name</strong> 标签名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;标签1&quot;
    }
}
</code></pre>
<h3 id="-">新增标签</h3>
<p><strong>[POST] /admin/tags</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 标签名称，必填，不能重复</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 标签ID</li>
<li><strong>name</strong> 标签名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;标签1&quot;
    }
}
</code></pre>
<h3 id="-">修改标签名</h3>
<p><strong>[PUT] /admin/tags/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>name</strong> 标签名称，必填，不能重复</li>
</ul>
<p><strong>响应参数</strong>：</p>
<p>字段说明： </p>
<ul>
<li><strong>id</strong> 标签ID</li>
<li><strong>name</strong> 标签名称</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
      &quot;id&quot;: 1,
      &quot;name&quot;: &quot;标签1&quot;
    }
}
</code></pre>
<h3 id="-">删除标签</h3>
<p><strong>[DELETE] /admin/tags/:id</strong></p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;删除成功&quot;
}
</code></pre>
<h3 id="-">批量删除标签</h3>
<p><strong>[POST] /admin/tags/delete</strong></p>
<p>待删除的 id 以 JSON Array 的格式放在 body 中.</p>
<p><strong>请求参数</strong>：</p>
<p>application/json</p>
<pre><code class="lang-json">[15,16,17,18]
</code></pre>
<p><strong>响应参数</strong>：</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;批量删除成功, 4 / 4&quot;
}
</code></pre>
<hr>
<h2 id="-">上传接口</h2>
<p><strong>[POST] /admin/upload</strong></p>
<p>Content-Type 为 multipart/form-data</p>
<p>文件上传时会存入配置的上传文件夹，子文件夹为当前日期，
文件名随机生成，系统保证文件名唯一，文件后缀从上传的原始文件名中获取。</p>
<p><strong>请求参数</strong>：</p>
<ul>
<li><strong>file</strong> 上传的文件，不能为空</li>
</ul>
<p><strong>响应参数</strong>:</p>
<ul>
<li><strong>accessUrl</strong> 完整访问 URL，可以通过网页访问</li>
<li><strong>relativePath</strong> 相对路径，即保存在上传文件夹的路径</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: {
        &quot;accessUrl&quot;: &quot;http://192.168.1.1/web/pics/20210121/kdoswlfogwefl.jpg&quot;,
        &quot;relativePath&quot;: &quot;20210121/kdoswlfogwefl.jpg&quot;
    }
}
</code></pre>
<hr>
<h2 id="-">用户权限管理接口</h2>
<h3 id="-">用户授权情况</h3>
<p><strong>[GET] /admin/authorities/user/:uid</strong></p>
<p>获取所有的权限点，以及指定用户在每个权限点的授权情况</p>
<p><strong>请求参数</strong>：</p>
<p>无</p>
<p><strong>响应参数</strong>:</p>
<ul>
<li><strong>module</strong> 模块名</li>
<li><strong>authorities</strong> 模块下的权限点 Array</li>
<li><blockquote>
<p><strong>authorityId</strong> 权限点ID</p>
</blockquote>
</li>
<li><blockquote>
<p><strong>name</strong> 权限点</p>
</blockquote>
</li>
<li><blockquote>
<p><strong>granted</strong> 指定用户是否已授权</p>
</blockquote>
</li>
</ul>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;data&quot;: [
        {
          &quot;module&quot;: &quot;用户&quot;,
          &quot;authorities&quot;: [
            {
              &quot;authorityId&quot;: 1,
              &quot;name&quot;: &quot;新增&quot;,
              &quot;module&quot;: &quot;用户&quot;,
              &quot;granted&quot;: true
            },
            {
              &quot;authorityId&quot;: 2,
              &quot;name&quot;: &quot;编辑&quot;,
              &quot;module&quot;: &quot;用户&quot;,
              &quot;granted&quot;: true
            }
          ]
        },
        {
          &quot;module&quot;: &quot;文章&quot;,
          &quot;authorities&quot;: [
            {
              &quot;authorityId&quot;: 3,
              &quot;name&quot;: &quot;新增&quot;,
              &quot;module&quot;: &quot;文章&quot;,
              &quot;granted&quot;: true
            },
            {
              &quot;authorityId&quot;: 4,
              &quot;name&quot;: &quot;编辑&quot;,
              &quot;module&quot;: &quot;文章&quot;,
              &quot;granted&quot;: true
            }
          ]
        },
    ]
}
</code></pre>
<h3 id="-">修改用户授权</h3>
<p><strong>[PUT] /admin/authorities/user/:uid</strong></p>
<p>修改用户授权, Content-Type 为 application/json</p>
<p><strong>请求参数</strong>：</p>
<p>授权的权限点ID以JSON array的形式传入</p>
<p>请求示例：</p>
<pre><code class="lang-json">[1,2,5,10]
</code></pre>
<p><strong>响应参数</strong>:</p>
<pre><code class="lang-json">{
    &quot;status&quot;: 0,
    &quot;message&quot;: &quot;用户权限修改成功&quot;
}
</code></pre>
<hr>
<h2 id="-">状态码</h2>
<ul>
<li>0 成功</li>
<li>1001 服务器内部错误</li>
<li>2001 请求参数错误</li>
<li>2003 业务操作执行失败</li>
<li>2004 操作的数据不存在</li>
<li>2005 没有权限请求接口</li>
<li>3001 用户已存在</li>
<li>3002 用户名或密码错误</li>
<li>3003 用户已停用</li>
<li>4001 无效的 AccessToken (需要引导用户重新登录)</li>
<li>4002 AccessToken 已过期 (可以引导用户重新登录，或用 RefreshToken换取新的AccessToken)</li>
<li>4003 无效的 RefreshToken (需要引导用户重新登录)</li>
<li>4004 RefreshToken 已过期 (需要引导用户重新登录)</li>
</ul>
<p>其中 4001, 4002 发生时会返回 http 状态码：401</p>
<p>4003, 4004 发生时一般会返回正常的的状态码，即 200</p>

          	</article>
        </div>
		</div>
  </body>
</html>
<script type="text/javascript" src="toc/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="toc/js/jquery.ztree.all-3.5.min.js"></script>
<script type="text/javascript" src="toc/js/ztree_toc.js"></script>
<script type="text/javascript" src="toc_conf.js"></script>

<SCRIPT type="text/javascript" >
<!--
$(document).ready(function(){
    var css_conf = eval(markdown_panel_style);
    $('#readme').css(css_conf)
    
    var conf = eval(jquery_ztree_toc_opts);
		$('#tree').ztree_toc(conf);
});
//-->
</SCRIPT>